name: CI

on: [push, pull_request]

jobs:
  install-test:
    name: install_test
    runs-on: macos-latest
    steps:
    - name: checkout
      uses: actions/checkout@v6
    - name: make install.sh executable
      run: chmod +x ./bin/install.sh
    - name: run install.sh
      run: ./bin/install.sh
    - name: validate
      run: |
        test -d $HOME/dotfiles
        test -L $HOME/.gitconfig
        test -L $HOME/.config/nvim
        echo "Installation test passed!"
